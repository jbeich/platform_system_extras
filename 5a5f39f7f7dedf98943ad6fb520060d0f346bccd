{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "6d020c69_e4e8986c",
        "filename": "kcmdlinectrl/kcmdlinectrl.cc",
        "patchSetId": 3
      },
      "lineNbr": 56,
      "author": {
        "id": 1892347
      },
      "writtenOn": "2024-08-29T08:00:13Z",
      "side": 1,
      "message": "Thank you for debugging this issue. It\u0027s unfortunate that `android::base::SetProperty` is flaky. Perhaps this needs to get fixed inside `SetProperty`?\n\nI guess this issue probably also applies to the `kcmdline.binder` property above. Maybe `UpdateProps` as a whole should be retried when either `SetProperty` call fails?\n\nWhat do you think? At the very least, there should be a comment about why we\u0027re retrying.",
      "revId": "5a5f39f7f7dedf98943ad6fb520060d0f346bccd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78048868_5a614bb8",
        "filename": "kcmdlinectrl/kcmdlinectrl.cc",
        "patchSetId": 3
      },
      "lineNbr": 56,
      "author": {
        "id": 3474023
      },
      "writtenOn": "2024-09-03T09:16:28Z",
      "side": 1,
      "message": "The kernel patch is currently under review. If the community decides not to handle this in kernel space, then \"UpdateProps\" is the preferred way from my point of view.\n\nThe reason I only retry the setting on \"kcmdline.loaded\" is that it could lead to boot failure if \"kcmdline.loaded\" fails to set.\nAdditionally, all the other properties set while using the bpf() syscall on the other CPU at the same time could encounter the same issue.\nTherefore, fixing it in getpeercon() by handling the -EFAULT return from getsockopt() should be the general solution in userspace.",
      "parentUuid": "6d020c69_e4e8986c",
      "revId": "5a5f39f7f7dedf98943ad6fb520060d0f346bccd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6dae0896_0d57f3cd",
        "filename": "kcmdlinectrl/kcmdlinectrl.cc",
        "patchSetId": 3
      },
      "lineNbr": 56,
      "author": {
        "id": 1892347
      },
      "writtenOn": "2024-09-03T09:34:09Z",
      "side": 1,
      "message": "Okay, I will wait for you to come to a decision with the kernel community.",
      "parentUuid": "78048868_5a614bb8",
      "revId": "5a5f39f7f7dedf98943ad6fb520060d0f346bccd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}